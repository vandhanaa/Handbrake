<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0044)http://wiki.videolan.org/Win32CompileMSYSNew -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta http-equiv="Content-Style-Type" content="text/css">
		<meta name="generator" content="MediaWiki 1.15.5">
		<meta name="keywords" content="Win32CompileMSYSNew,Contrib Status,Git Windows,Win32Compile,Win32CompileMSYSOld,Win32CompileMSYSTroubleShooting,J-b">
		<link rel="shortcut icon" href="http://wiki.videolan.org/favicon.ico">
		<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.videolan.org/opensearch_desc.php" title="VideoLAN Wiki (en)">
		<link rel="alternate" type="application/rss+xml" title="VideoLAN Wiki RSS feed" href="http://wiki.videolan.org/index.php?title=Special:RecentChanges&feed=rss">
		<link rel="alternate" type="application/atom+xml" title="VideoLAN Wiki Atom feed" href="http://wiki.videolan.org/index.php?title=Special:RecentChanges&feed=atom">
		<title>Win32CompileMSYSNew - VideoLAN Wiki</title>
		<link rel="stylesheet" href="./Win32CompileMSYSNew - VideoLAN Wiki_files/shared.css" type="text/css" media="screen">
		<link rel="stylesheet" href="./Win32CompileMSYSNew - VideoLAN Wiki_files/commonPrint.css" type="text/css" media="print">
		<link rel="stylesheet" href="./Win32CompileMSYSNew - VideoLAN Wiki_files/main.css" type="text/css" media="screen">
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="./Win32CompileMSYSNew - VideoLAN Wiki_files/index.php" type="text/css">
		<link rel="stylesheet" href="./Win32CompileMSYSNew - VideoLAN Wiki_files/index(1).php" type="text/css" media="print">
		<link rel="stylesheet" href="./Win32CompileMSYSNew - VideoLAN Wiki_files/index(2).php" type="text/css">
		<link rel="stylesheet" href="./Win32CompileMSYSNew - VideoLAN Wiki_files/index(3).php" type="text/css">
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type="text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins";
		var wgArticlePath = "/$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://wiki.videolan.org";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Win32CompileMSYSNew";
		var wgTitle = "Win32CompileMSYSNew";
		var wgAction = "view";
		var wgArticleId = "3614";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 18987;
		var wgVersion = "1.15.5";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="./Win32CompileMSYSNew - VideoLAN Wiki_files/wikibits.js"><!-- wikibits js --></script><style type="text/css">@import "/skins/monobook/KHTMLFixes.css";</style>
		<!-- Head Scripts -->
		<script type="text/javascript" src="./Win32CompileMSYSNew - VideoLAN Wiki_files/ajax.js"></script>
		<script type="text/javascript" src="./Win32CompileMSYSNew - VideoLAN Wiki_files/index(4).php"><!-- site js --></script>
	<script>window["_GOOG_TRANS_EXT_VER"] = "1";</script></head>
<body class="mediawiki ltr ns-0 ns-subject page-Win32CompileMSYSNew skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Win32CompileMSYSNew</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From VideoLAN Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="http://wiki.videolan.org/Win32CompileMSYSNew#column-one">navigation</a>, <a href="http://wiki.videolan.org/Win32CompileMSYSNew#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a id="togglelink" class="internal" href="javascript:toggleToc()">hide</a>]</span></div>
<ul>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#About"><span class="tocnumber">1.1</span> <span class="toctext">About</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#On_the_edge_vs_Conservative"><span class="tocnumber">1.2</span> <span class="toctext">On the edge vs Conservative</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Acknowledgements"><span class="tocnumber">1.3</span> <span class="toctext">Acknowledgements</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Windows_tools_needed"><span class="tocnumber">2</span> <span class="toctext">Windows tools needed</span></a>
<ul>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Text_editor"><span class="tocnumber">2.1</span> <span class="toctext">Text editor</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Unzip_Utility_.287-zip.29"><span class="tocnumber">2.2</span> <span class="toctext">Unzip Utility (7-zip)</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#GNU_Windows_Environment"><span class="tocnumber">3</span> <span class="toctext">GNU Windows Environment</span></a>
<ul>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#MinGW"><span class="tocnumber">3.1</span> <span class="toctext">MinGW</span></a>
<ul>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#TDM.2FMinGW_Setup"><span class="tocnumber">3.1.1</span> <span class="toctext">TDM/MinGW Setup</span></a></li>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#MinGW_utils"><span class="tocnumber">3.1.2</span> <span class="toctext">MinGW utils</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#MSys"><span class="tocnumber">3.2</span> <span class="toctext">MSys</span></a>
<ul>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#MSys_Setup"><span class="tocnumber">3.2.1</span> <span class="toctext">MSys Setup</span></a></li>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#MSys_Developer_Toolkit"><span class="tocnumber">3.2.2</span> <span class="toctext">MSys Developer Toolkit</span></a></li>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#AutoTools_and_libcrypt"><span class="tocnumber">3.2.3</span> <span class="toctext">AutoTools and libcrypt</span></a></li>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Glib_and_PKG-CONFIG"><span class="tocnumber">3.2.4</span> <span class="toctext">Glib and PKG-CONFIG</span></a></li>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Add_pkg_config_path_variable"><span class="tocnumber">3.2.5</span> <span class="toctext">Add pkg config path variable</span></a></li>
<li class="toclevel-3"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Fix_libtool_search_dirs"><span class="tocnumber">3.2.6</span> <span class="toctext">Fix libtool search dirs</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#LUA_tools"><span class="tocnumber">3.3</span> <span class="toctext">LUA tools</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Precompiled_contribs"><span class="tocnumber">4</span> <span class="toctext">Precompiled contribs</span></a></li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#VLC_sources"><span class="tocnumber">5</span> <span class="toctext">VLC sources</span></a>
<ul>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Base:_VLC_version_1.1.0rc3"><span class="tocnumber">5.1</span> <span class="toctext">Base: VLC version 1.1.0rc3</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#add_missing_configure-msys_.281.1.x_only.29"><span class="tocnumber">5.2</span> <span class="toctext">add missing configure-msys (1.1.x only)</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#add_missing_configure-common_.281.1.x_only.29"><span class="tocnumber">5.3</span> <span class="toctext">add missing configure-common (1.1.x only)</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Last_change.C2.A0:_whoami_and_hostname"><span class="tocnumber">6</span> <span class="toctext">Last change&nbsp;: whoami and hostname</span></a>
<ul>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Whoami"><span class="tocnumber">6.1</span> <span class="toctext">Whoami</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Hostname"><span class="tocnumber">6.2</span> <span class="toctext">Hostname</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Build_VLC"><span class="tocnumber">7</span> <span class="toctext">Build VLC</span></a>
<ul>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Bootstrap"><span class="tocnumber">7.1</span> <span class="toctext">Bootstrap</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Configure"><span class="tocnumber">7.2</span> <span class="toctext">Configure</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Make_.28compile.29"><span class="tocnumber">7.3</span> <span class="toctext">Make (compile)</span></a></li>
<li class="toclevel-2"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Create_self-contained_packages"><span class="tocnumber">7.4</span> <span class="toctext">Create self-contained packages</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#Troubleshooting"><span class="tocnumber">8</span> <span class="toctext">Troubleshooting</span></a></li>
<li class="toclevel-1"><a href="http://wiki.videolan.org/Win32CompileMSYSNew#See_also"><span class="tocnumber">9</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></tbody></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Introduction" id="Introduction"></a><h1> <span class="mw-headline"> Introduction  </span></h1>
<a name="About" id="About"></a><h2> <span class="mw-headline"> About </span></h2>
<p>MSys is a helper environment for MinGW, the compiler chain for Windows based on GCC. It is the <b>fastest</b> and <b>recommended </b>way to build VLC natively on Windows.  Note that you could also <a href="http://wiki.videolan.org/Win32Compile" title="Win32Compile">cross compile</a> VLC from Linux, if desired (it is faster).
</p><p>VLC is a complex program with many dependencies, so minimal command-line experience is required. Also, don't be in a hurry (2 hours is a minimum for the whole process) and don't despair if it doesn't work first time.
</p>
<a name="On_the_edge_vs_Conservative" id="On_the_edge_vs_Conservative"></a><h2> <span class="mw-headline"> On the edge vs Conservative </span></h2>
<p>This update aims at building versions from the 1.1.0 branch natively in the most straightforward way. 
</p><p>Of course, if you want to live on the edge, feel free to select more recent versions of the proposed tools, contribs or sources, but the build has only been thoroughly validated with the versions indicated in the main text flow. 
</p>
<dl><dd><i>Such alternative ways are indented, italicized and marked "Note for the brave"&nbsp;:-). Your mileage may vary</i>
</dd></dl>
<a name="Acknowledgements" id="Acknowledgements"></a><h2> <span class="mw-headline"> Acknowledgements </span></h2>
<p>This howto was re-created by <a href="http://wiki.videolan.org/User:J-b" title="User:J-b">Jean-Baptiste Kempf</a> and updated in June 2009, September 2009, December 2009 and March 2010. 
</p><p>It was updated in June 2010 by Vicne with the help of J-b, gnosygnu and MichaelMc 
</p>
<a name="Windows_tools_needed" id="Windows_tools_needed"></a><h1> <span class="mw-headline"> Windows tools needed  </span></h1>
<a name="Text_editor" id="Text_editor"></a><h2> <span class="mw-headline"> Text editor  </span></h2>
<p>To edit unix-style text documents you need a suitable editor. 
</p><p>You can look at <a href="http://sourceforge.net/projects/notepad2/" class="external text" title="http://sourceforge.net/projects/notepad2/" rel="nofollow">notepad2</a>. You can set File - Line endings - Default to "Unix (LF)", but it always saves opened files in the ending style they have.
</p><p>Or you can look at <a href="http://notepad-plus-plus.org/" class="external text" title="http://notepad-plus-plus.org/" rel="nofollow">notepad++</a>.
</p>
<a name="Unzip_Utility_.287-zip.29" id="Unzip_Utility_.287-zip.29"></a><h2> <span class="mw-headline"> Unzip Utility (7-zip) </span></h2>
<p>Many files to downloaded will have to be uncompressed. As most of them use Linux-originated formats (.tar.gz, .tar.bz2, .tar.lzma), you will need a versatile unzipping utility. A recent version of <a href="http://www.7-zip.org/" class="external text" title="http://www.7-zip.org/" rel="nofollow">7-zip</a> is therefore strongly advised. 
</p><p>Please note that most archives contain directory structures. Unless otherwise stated, you have to merge the contents with the existing dirs
</p>
<a name="GNU_Windows_Environment" id="GNU_Windows_Environment"></a><h1> <span class="mw-headline"> GNU Windows Environment  </span></h1>
<p>Before installing, ensure your Windows user name does not contain spaces (VLC will not build in a folder with spaces in it). If it does, please create another user on your system. 
</p><p>In the following text, we'll refer to this user name as "&lt;username&gt;". Replace it appropriately where needed of course. 
</p>
<a name="MinGW" id="MinGW"></a><h2> <span class="mw-headline"> MinGW  </span></h2>
<dl><dd><i>the old version of mingw GCC (3.4.5) worked with VLC, because it uses SlJl exception unwinding.  Any "vanilla" version 4.0+ by default uses dwarf2 exception unwinding, so isn't compatible with the contribs.  So recommend installing TDM, below.</i>
</dd></dl>
<a name="TDM.2FMinGW_Setup" id="TDM.2FMinGW_Setup"></a><h3> <span class="mw-headline"> TDM/MinGW Setup  </span></h3>
<p>Use the installer found at <a href="http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC%20Installer/tdm-gcc-4.5.2.exe/download" class="external free" title="http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC%20Installer/tdm-gcc-4.5.2.exe/download" rel="nofollow">http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC%20Installer/tdm-gcc-4.5.2.exe/download</a> 
</p><p>Go through the wizard: 
</p>
<ul><li>unckeck "Check for updated files..." 
</li><li>Select "Create" 
</li><li>install to C:\MinGW 
</li><li>keep default settings 
</li></ul>
<ul><li>afterwards check that C:\MinGW\bin is added to windows PATH (<a href="http://www.computerhope.com/issues/ch000549.htm" class="external free" title="http://www.computerhope.com/issues/ch000549.htm" rel="nofollow">http://www.computerhope.com/issues/ch000549.htm</a>)
</li></ul>
<a name="MinGW_utils" id="MinGW_utils"></a><h3> <span class="mw-headline"> MinGW utils<br> </span></h3>
<p>Installing mingw-utils is recommended: <a href="http://prdownloads.sourceforge.net/mingw/mingw-utils-0.3.tar.gz" class="external free" title="http://prdownloads.sourceforge.net/mingw/mingw-utils-0.3.tar.gz" rel="nofollow">http://prdownloads.sourceforge.net/mingw/mingw-utils-0.3.tar.gz</a> 
</p><p>Extract contents to c:\MinGW
</p>
<a name="MSys" id="MSys"></a><h2> <span class="mw-headline"> MSys  </span></h2>
<a name="MSys_Setup" id="MSys_Setup"></a><h3> <span class="mw-headline"> MSys Setup  </span></h3>
<p>Use the installer found at <a href="http://sourceforge.net/project/downloading.php?group_id=2435&filename=MSYS-1.0.11.exe" class="external free" title="http://sourceforge.net/project/downloading.php?group_id=2435&amp;filename=MSYS-1.0.11.exe" rel="nofollow">http://sourceforge.net/project/downloading.php?group_id=2435&amp;filename=MSYS-1.0.11.exe</a> 
</p><p>Go through the wizard and install to to default C:\Msys\1.0 
</p><p>In the command window that opens, answer questions as follows: 
</p>
<pre>Accept Post Install: [y]
MinGW Installed?&nbsp;:   [y]
path to MinGW:       [c:/MinGW]
</pre>
<a name="MSys_Developer_Toolkit" id="MSys_Developer_Toolkit"></a><h3> <span class="mw-headline"> MSys Developer Toolkit  </span></h3>
<p>Use the installer found at <a href="http://downloads.sourceforge.net/mingw/msysDTK-1.0.1.exe" class="external free" title="http://downloads.sourceforge.net/mingw/msysDTK-1.0.1.exe" rel="nofollow">http://downloads.sourceforge.net/mingw/msysDTK-1.0.1.exe</a> 
</p><p>Go through the wizard, keeping default values 
</p>
<a name="AutoTools_and_libcrypt" id="AutoTools_and_libcrypt"></a><h3> <span class="mw-headline"> AutoTools and libcrypt  </span></h3>
<p>Update autoconf, automake, libtool as well as libcrypt by downloading the following files and extracting them to C:\Msys\1.0: 
</p>
<ul><li><a href="http://sourceforge.net/projects/mingw/files/MSYS/autoconf/autoconf-2.63-1/autoconf-2.63-1-msys-1.0.11-bin.tar.lzma/download" class="external free" title="http://sourceforge.net/projects/mingw/files/MSYS/autoconf/autoconf-2.63-1/autoconf-2.63-1-msys-1.0.11-bin.tar.lzma/download" rel="nofollow">http://sourceforge.net/projects/mingw/files/MSYS/autoconf/autoconf-2.63-1/autoconf-2.63-1-msys-1.0.11-bin.tar.lzma/download</a>
</li><li><a href="http://sourceforge.net/projects/mingw/files/MSYS/automake/automake-1.11-1/automake-1.11-1-msys-1.0.11-bin.tar.lzma/download" class="external free" title="http://sourceforge.net/projects/mingw/files/MSYS/automake/automake-1.11-1/automake-1.11-1-msys-1.0.11-bin.tar.lzma/download" rel="nofollow">http://sourceforge.net/projects/mingw/files/MSYS/automake/automake-1.11-1/automake-1.11-1-msys-1.0.11-bin.tar.lzma/download</a>
</li><li><a href="http://sourceforge.net/projects/mingw/files/MSYS/libtool/libtool-2.2.7a-1/libtool-2.2.7a-1-msys-1.0.11-bin.tar.lzma/download" class="external free" title="http://sourceforge.net/projects/mingw/files/MSYS/libtool/libtool-2.2.7a-1/libtool-2.2.7a-1-msys-1.0.11-bin.tar.lzma/download" rel="nofollow">http://sourceforge.net/projects/mingw/files/MSYS/libtool/libtool-2.2.7a-1/libtool-2.2.7a-1-msys-1.0.11-bin.tar.lzma/download</a> 
</li><li><a href="http://prdownloads.sourceforge.net/mingw/libcrypt-1.1_1-2-msys-1.0.11-dll-0.tar.lzma" class="external free" title="http://prdownloads.sourceforge.net/mingw/libcrypt-1.1_1-2-msys-1.0.11-dll-0.tar.lzma" rel="nofollow">http://prdownloads.sourceforge.net/mingw/libcrypt-1.1_1-2-msys-1.0.11-dll-0.tar.lzma</a>
</li></ul>
<a name="Glib_and_PKG-CONFIG" id="Glib_and_PKG-CONFIG"></a><h3> <span class="mw-headline"> Glib and PKG-CONFIG  </span></h3>
<p>Similarly, download the following files and extract them to C:\MSys\1.0: 
</p><p>Note* Download the latest version inside this folders (Last tested to be OK is glib 2.28, non-dev version)):
</p>
<ul><li><a href="http://ftp.gnome.org/pub/GNOME/binaries/win32/glib" class="external free" title="http://ftp.gnome.org/pub/GNOME/binaries/win32/glib" rel="nofollow">http://ftp.gnome.org/pub/GNOME/binaries/win32/glib</a> 
</li><li><a href="ftp://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config_0.23-3_win32.zip" class="external free" title="ftp://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config_0.23-3_win32.zip" rel="nofollow">ftp://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config_0.23-3_win32.zip</a> 
</li><li><a href="ftp://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config-dev_0.23-3_win32.zip" class="external free" title="ftp://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config-dev_0.23-3_win32.zip" rel="nofollow">ftp://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config-dev_0.23-3_win32.zip</a>
</li><li><a href="http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/gettext-runtime_0.18.1.1-2_win32.zip" class="external free" title="http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/gettext-runtime_0.18.1.1-2_win32.zip" rel="nofollow">http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/gettext-runtime_0.18.1.1-2_win32.zip</a>
</li></ul>
<a name="Add_pkg_config_path_variable" id="Add_pkg_config_path_variable"></a><h3> <span class="mw-headline"> Add pkg config path variable  </span></h3>
<p>Add the following line to the *top* of C:\MSys\1.0\msys.bat: 
</p>
<pre>set PKG_CONFIG_PATH=/win32/lib/pkgconfig
</pre>
<a name="Fix_libtool_search_dirs" id="Fix_libtool_search_dirs"></a><h3> <span class="mw-headline"> Fix libtool search dirs  </span></h3>
<p>Open C:\MSys\1.0\bin\libtool and change line 9926 by appending ' /mingw/lib' to the end of 'compiler_lib_search_dirs'. The line should then read&nbsp;: 
</p>
<pre>compiler_lib_search_dirs="/usr/lib /usr/lib /bin/../lib/gcc-lib/i686-pc-msys/2.95.3-1 /bin/../lib/gcc-lib /usr/lib/gcc-lib/i686-pc-msys/2.95.3-1 /bin/../lib/gcc-lib/i686-pc-msys/2.95.3-1/../../../../i686-pc-msys/lib /usr/lib/gcc-lib/i686-pc-msys/2.95.3-1/../../../../i686-pc-msys/lib /mingw/lib"
</pre>
<a name="LUA_tools" id="LUA_tools"></a><h2> <span class="mw-headline"> LUA tools  </span></h2>
<p>VLC uses the LUA scripting language (See <a href="http://www.lua.org/" class="external text" title="http://www.lua.org" rel="nofollow">lua.org</a>). Unfortunately, no binaries are provided so you need to compile them. 
</p>
<ul><li>Download the lua tools package from <a href="http://www.lua.org/ftp/lua-5.1.4.tar.gz" class="external free" title="http://www.lua.org/ftp/lua-5.1.4.tar.gz" rel="nofollow">http://www.lua.org/ftp/lua-5.1.4.tar.gz</a> 
</li><li>Uncompress it in your home folder (C:\MSys\1.0\home\&lt;username&gt;) 
</li><li>run C:\MSys\1.0\msys.bat 
</li><li>type the following commands:
</li></ul>
<pre>cd /home/&lt;username&gt;/lua-5.1.4 
make mingw
</pre>
<p>This should produce lua.exe, luac.exe and lua51.dll in the src directory. Put these in your /bin with the commands: 
</p>
<pre>cd src 
cp *.exe /bin
cp *.dll /bin
cd ..
</pre>
<a name="Precompiled_contribs" id="Precompiled_contribs"></a><h1> <span class="mw-headline"> Precompiled contribs  </span></h1>
<dl><dd><i>Note for the brave&nbsp;: Alternatively, you can get the latest contrib from&nbsp;:<a href="http://people.videolan.org/~jb/Contribs/" class="external free" title="http://people.videolan.org/~jb/Contribs/" rel="nofollow">http://people.videolan.org/~jb/Contribs/</a></i>
</dd></dl>
<ul><li>download the file <a href="http://people.videolan.org/~jb/Contribs/contrib-20100608-win32-bin-gcc-4.4.4-runtime-3.17-only.tar.bz2" class="external free" title="http://people.videolan.org/~jb/Contribs/contrib-20100608-win32-bin-gcc-4.4.4-runtime-3.17-only.tar.bz2" rel="nofollow">http://people.videolan.org/~jb/Contribs/contrib-20100608-win32-bin-gcc-4.4.4-runtime-3.17-only.tar.bz2</a> 
</li><li>extract it to C:\MSys\1.0 <b>but without the /usr path</b>. For example, one of the resulting files should be:
</li></ul>
<pre>C:\MSys\1.0\win32\lib\libdvdnav.a
</pre>
<p>Contribs are basically some precompiled 3rd party library (Here's a <a href="http://wiki.videolan.org/Contrib_Status" title="Contrib Status">list</a> of what they all are).
</p>
<a name="VLC_sources" id="VLC_sources"></a><h1> <span class="mw-headline"> VLC sources  </span></h1>
<dl><dd><i>Note for the brave&nbsp;: This section lists the steps for VLC version 1.1.0rc3. Alternatively, you could get the latest sources from the development tree using GIT. It's not as difficult as it looks to do so. If you want chose that route, please follow instructions on the <a href="http://wiki.videolan.org/Git_Windows" title="Git Windows">Git Windows</a> page (just download the VLC repository--you don't need the x264 one) then skip the next section "Last Change"</i>
</dd></dl>
<a name="Base:_VLC_version_1.1.0rc3" id="Base:_VLC_version_1.1.0rc3"></a><h2> <span class="mw-headline"> Base: VLC version 1.1.0rc3  </span></h2>
<ul><li>download the file <a href="http://download.videolan.org/pub/videolan/testing/vlc-1.1.0-rc3/vlc-1.1.0-rc3.tar.bz2" class="external free" title="http://download.videolan.org/pub/videolan/testing/vlc-1.1.0-rc3/vlc-1.1.0-rc3.tar.bz2" rel="nofollow">http://download.videolan.org/pub/videolan/testing/vlc-1.1.0-rc3/vlc-1.1.0-rc3.tar.bz2</a> 
</li><li>extract it to C:\MSys\1.0\home\&lt;username&gt; 
</li><li>rename the vlc-1.1.0rc3 dir to vlc
</li></ul>
<a name="add_missing_configure-msys_.281.1.x_only.29" id="add_missing_configure-msys_.281.1.x_only.29"></a><h2> <span class="mw-headline"> add missing configure-msys (1.1.x only)</span></h2>
<ul><li> Download <a href="http://git.videolan.org/?p=vlc.git;a=blob_plain;f=extras/package/win32/configure-msys.sh;hb=HEAD" class="external free" title="http://git.videolan.org/?p=vlc.git;a=blob_plain;f=extras/package/win32/configure-msys.sh;hb=HEAD" rel="nofollow">http://git.videolan.org/?p=vlc.git;a=blob_plain;f=extras/package/win32/configure-msys.sh;hb=HEAD</a>
</li><li> Save it (not using proposed name) as C:\msys\1.0\home\&lt;username&gt;\vlc\extras\package\win32\configure-msys.sh
</li></ul>
<a name="add_missing_configure-common_.281.1.x_only.29" id="add_missing_configure-common_.281.1.x_only.29"></a><h2> <span class="mw-headline"> add missing configure-common (1.1.x only) </span></h2>
<ul><li> Download <a href="http://git.videolan.org/?p=vlc.git;a=blob_plain;f=extras/package/win32/configure-common.sh;hb=HEAD" class="external free" title="http://git.videolan.org/?p=vlc.git;a=blob_plain;f=extras/package/win32/configure-common.sh;hb=HEAD" rel="nofollow">http://git.videolan.org/?p=vlc.git;a=blob_plain;f=extras/package/win32/configure-common.sh;hb=HEAD</a>
</li><li> Save it (not using proposed name) as C:\msys\1.0\home\&lt;username&gt;\vlc\extras\package\win32\configure-common.sh
</li></ul>
<a name="Last_change.C2.A0:_whoami_and_hostname" id="Last_change.C2.A0:_whoami_and_hostname"></a><h1> <span class="mw-headline"> Last change&nbsp;: whoami and hostname  </span></h1>
<p>Whoami is not available on Windows, and hostname doesn't support the -f option used by the build process. These utilities are used to show the name and computer of the person who compiled VLC in the 'About' box. 
</p>
<dl><dd><i>Note for the brave&nbsp;: the steps below are file changes so that compile works, but an alternative is to download and install GNU whoami and hostname functionality. This can be achieved by extracting who.exe, whoami.exe and hostname.exe from <a href="http://sourceforge.net/projects/mingw/files/MSYS/BaseSystem/coreutils/coreutils-5.97-2/coreutils-5.97-2-msys-1.0.11-ext.tar.lzma/download" class="external free" title="http://sourceforge.net/projects/mingw/files/MSYS/BaseSystem/coreutils/coreutils-5.97-2/coreutils-5.97-2-msys-1.0.11-ext.tar.lzma/download" rel="nofollow">http://sourceforge.net/projects/mingw/files/MSYS/BaseSystem/coreutils/coreutils-5.97-2/coreutils-5.97-2-msys-1.0.11-ext.tar.lzma/download</a> and saving them to C:/MSys/1.0/bin</i>
</dd></dl>
<a name="Whoami" id="Whoami"></a><h2> <span class="mw-headline"> Whoami  </span></h2>
<p>Create a new file containing the single line: 
</p>
<pre>echo '&lt;username&gt;'
</pre>
<p>and save it as C:\MSys\1.0\bin\whoami (without any extension) 
</p>
<a name="Hostname" id="Hostname"></a><h2> <span class="mw-headline"> Hostname  </span></h2>
<p>Modify configure.ac so that it doesn't call 'hostname -f' as follows: 
</p>
<ul><li>open C:\MSys\1.0\home\&lt;username&gt;\vlc\configure.ac 
</li><li>goto search button:
</li><li>change it as follows:
</li></ul>
<pre>old: AC_DEFINE_UNQUOTED(VLC_COMPILE_HOST, "`hostname -f 2&gt; /dev/null || hostname`", [host which ran configure])
new: AC_DEFINE_UNQUOTED(VLC_COMPILE_HOST, "`hostname`", [host which ran configure])
</pre>
<a name="Build_VLC" id="Build_VLC"></a><h1> <span class="mw-headline"> Build VLC  </span></h1>
<p>The build is made exclusively from the command line, so if you closed the prompt at the LUA step, re-execute C:\MSys\1.0\msys.bat, then type the commands as mentioned 
</p>
<a name="Bootstrap" id="Bootstrap"></a><h2> <span class="mw-headline"> Bootstrap  </span></h2>
<pre>cd vlc
cp -v /usr/win32/share/aclocal/* m4/
cp -v /usr/share/aclocal/* m4/
PATH=/usr/win32/bin:$PATH ./bootstrap
</pre>
<a name="Configure" id="Configure"></a><h2> <span class="mw-headline"> Configure  </span></h2>
<pre>sh extras/package/win32/configure-msys.sh
</pre>
<p>If you want any custom options, like "--disable-lua" or anything of that nature, you'll need to edit that file directly instead of passing them in as parameters (at least currently that is required).
</p>
<a name="Make_.28compile.29" id="Make_.28compile.29"></a><h2> <span class="mw-headline"> Make (compile) </span></h2>
<p>Note&nbsp;: If your &lt;username&gt; starts with the "u" or "x" character, change C:\MSys\1.0\home\&lt;username&gt;\config.h and double all backslashes in VLC_COMPILED_BY constant. 
</p><p>Type the following command&nbsp;: 
</p>
<pre>PATH=/usr/win32/bin:$PATH make
</pre>
<p>If this step fails, try the following
</p>
<ul><li> Go back to "Precompiled contribs" section, and obtain the latest compiled contrib (under "Note for the brave")
</li><li> In the configure script section (configure-msys.sh), open that file and add --disable-upnp
</li></ul>
<a name="Create_self-contained_packages" id="Create_self-contained_packages"></a><h2> <span class="mw-headline"> Create self-contained packages  </span></h2>
<p>Once the compilation is done, build self-contained VLC packages with one of the following "make" commands: 
</p>
<pre>make package-win32-base
</pre>
<p>(This will create a subdirectory named vlc-x.x.x with all the binaries "stripped" without any debugging symbols). 
</p>
<pre>make package-win32-zip
</pre>
<p>(Same as above but will package the directory in a zip file). 
</p>
<pre>make package-win32
</pre>
<p>(Same as above but will also create an auto-installer package. You will need to have NSIS installed in its default location for this to work).
</p>
<pre>make package-win32-base-debug
</pre>
<p>(This will create a subdirectory named vlc-x.x.x with all the binaries containing debug info usable by gdb).
</p><p>Note that with the 1.2 branch these names have changed slightly.  Run '
</p>
<pre>grep ':' Makefile | grep package-win32
</pre>
<p>to see what they are now.
</p>
<a name="Troubleshooting" id="Troubleshooting"></a><h1> <span class="mw-headline"> Troubleshooting </span></h1>
<p>See <a href="http://wiki.videolan.org/Win32CompileMSYSTroubleShooting" title="Win32CompileMSYSTroubleShooting">Win32CompileMSYSTroubleShooting</a>.
</p>
<a name="See_also" id="See_also"></a><h1> <span class="mw-headline"> See also </span></h1>
<ul><li><a href="http://wiki.videolan.org/Win32CompileMSYSOld" title="Win32CompileMSYSOld">Win32CompileMSYSOld</a> - deprecated documentation
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 35/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key VideoLANwikidb:pcache:idhash:3614-0!1!0!!en!2!edit=0 and timestamp 20110427214241 -->
<div class="printfooter">
Retrieved from "<a href="./Win32CompileMSYSNew - VideoLAN Wiki_files/Win32CompileMSYSNew - VideoLAN Wiki.htm">http://wiki.videolan.org/Win32CompileMSYSNew</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="./Win32CompileMSYSNew - VideoLAN Wiki_files/Win32CompileMSYSNew - VideoLAN Wiki.htm" title="View the content page [alt-c]" accesskey="c">Page</a></li>
				 <li id="ca-talk"><a href="http://wiki.videolan.org/Talk:Win32CompileMSYSNew" title="Discussion about the content page [alt-t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="http://wiki.videolan.org/index.php?title=Win32CompileMSYSNew&action=edit" title="This page is protected.
You can view its source [alt-e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="http://wiki.videolan.org/index.php?title=Win32CompileMSYSNew&action=history" title="Past revisions of this page [alt-h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="http://wiki.videolan.org/index.php?title=Special:UserLogin&returnto=Win32CompileMSYSNew" title="You are encouraged to log in; however, it is not mandatory [alt-o]" accesskey="o">Log in / create account</a></li>
				<li id="pt-openidlogin"><a href="http://wiki.videolan.org/index.php?title=Special:OpenIDLogin&returnto=Win32CompileMSYSNew">Login with OpenID</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/skins/common/images/wiki.png);" href="http://wiki.videolan.org/Main_Page" title="Visit the main page [alt-z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-Site_Navigation">
		<h5>Site Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage"><a href="http://wiki.videolan.org/Main_Page" title="Visit the main page">Main Page</a></li>
				<li id="n-Developers-Corner"><a href="http://wiki.videolan.org/Developers_Corner">Developers Corner</a></li>
				<li id="n-Documentation"><a href="http://wiki.videolan.org/Documentation:Documentation">Documentation</a></li>
				<li id="n-Knowledge-Base"><a href="http://wiki.videolan.org/Knowledge_Base">Knowledge Base</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-VideoLAN_websites">
		<h5>VideoLAN websites</h5>
		<div class="pBody">
			<ul>
				<li id="n-VideoLAN.27s-Site"><a href="http://www.videolan.org/">VideoLAN's Site</a></li>
				<li id="n-VideoLAN.27s-Forums"><a href="http://forum.videolan.org/">VideoLAN's Forums</a></li>
				<li id="n-Developers.27-Site"><a href="http://www.videolan.org/developers">Developers' Site</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-Important_Pages">
		<h5>Important Pages</h5>
		<div class="pBody">
			<ul>
				<li id="n-VLC-media-player"><a href="http://wiki.videolan.org/VLC">VLC media player</a></li>
				<li id="n-Help-the-project"><a href="http://wiki.videolan.org/Help_VideoLAN">Help the project</a></li>
				<li id="n-Quality-Assurance"><a href="http://wiki.videolan.org/Quality">Quality Assurance</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-Wiki">
		<h5>Wiki</h5>
		<div class="pBody">
			<ul>
				<li id="n-recentchanges"><a href="http://wiki.videolan.org/Special:RecentChanges" title="The list of recent changes in the wiki [alt-r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="http://wiki.videolan.org/Special:Random" title="Load a random page [alt-x]" accesskey="x">Random page</a></li>
				<li id="n-Rules"><a href="http://wiki.videolan.org/VideoLAN_Wiki:Rules">Rules</a></li>
				<li id="n-help"><a href="http://wiki.videolan.org/Help:Contents" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://wiki.videolan.org/index.php" id="searchform"><div>
				<input type="hidden" name="title" value="Special:Search">
				<input id="searchInput" name="search" type="text" title="Search VideoLAN Wiki [alt-f]" accesskey="f" value="">
				<input type="submit" name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists">&nbsp;
				<input type="submit" name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text">
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://wiki.videolan.org/Special:WhatLinksHere/Win32CompileMSYSNew" title="List of all wiki pages that link here [alt-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://wiki.videolan.org/Special:RecentChangesLinked/Win32CompileMSYSNew" title="Recent changes in pages linked from this page [alt-k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="http://wiki.videolan.org/Special:SpecialPages" title="List of all special pages [alt-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://wiki.videolan.org/index.php?title=Win32CompileMSYSNew&printable=yes" rel="alternate" title="Printable version of this page [alt-p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://wiki.videolan.org/index.php?title=Win32CompileMSYSNew&oldid=18987" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="./Win32CompileMSYSNew - VideoLAN Wiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki"></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 27 April 2011, at 21:07.</li>
					<li id="viewcount">This page has been accessed 58,744 times.</li>
					<li id="privacy"><a href="http://wiki.videolan.org/VideoLAN_Wiki:Privacy_policy" title="VideoLAN Wiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="http://wiki.videolan.org/VideoLAN_Wiki:About" title="VideoLAN Wiki:About">About VideoLAN Wiki</a></li>
					<li id="disclaimer"><a href="http://wiki.videolan.org/VideoLAN_Wiki:General_disclaimer" title="VideoLAN Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.203 secs. -->

</body><!-- Cached 20110427214241 --></html>